<%- include("../layout/header") %>

<!-- ================= PAGE HEADER ================= -->
<section class="page-header">
  <div class="container">
    <h1 data-i18n="testsPageTitle">Our Diagnostic Tests</h1>
    <p data-i18n="testsPageSubtitle">
      Accurate reports тАв Fast turnaround тАв Home sample collection
    </p>
  </div>
</section>

<!-- ================= TESTS LIST ================= -->
<section class="tests">
  <div class="container tests-grid">

    <!-- CBC -->
    <div class="test-card">
      <div class="test-content">
        <div class="test-icon">ЁЯй╕</div>
        <h3>Complete Blood Count (CBC)</h3>
        <span class="test-category">Haematology</span>
      </div>

      <div class="test-actions">
        <button class="btn-view-details" onclick="openTestModal('CBC')">
          ЁЯФН <span data-i18n="viewDetails">View Details</span>
        </button>
        <a href="/book-test?test=CBC" class="btn-book-test">
          ЁЯз╛ <span data-i18n="bookTest">Book Test</span>
        </a>
      </div>
    </div>

    <!-- LFT -->
    <div class="test-card">
      <div class="test-content">
        <div class="test-icon">ЁЯзк</div>
        <h3>Liver Function Test (LFT)</h3>
        <span class="test-category">Biochemistry</span>
      </div>

      <div class="test-actions">
        <button class="btn-view-details" onclick="openTestModal('LFT')">
          ЁЯФН <span data-i18n="viewDetails">View Details</span>
        </button>
        <a href="/book-test?test=LFT" class="btn-book-test">
          ЁЯз╛ <span data-i18n="bookTest">Book Test</span>
        </a>
      </div>
    </div>

    <!-- Thyroid -->
    <div class="test-card">
      <div class="test-content">
        <div class="test-icon">ЁЯзм</div>
        <h3>Thyroid Profile</h3>
        <span class="test-category">Endocrinology</span>
      </div>

      <div class="test-actions">
        <button class="btn-view-details" onclick="openTestModal('THYROID')">
          ЁЯФН <span data-i18n="viewDetails">View Details</span>
        </button>
        <a href="/book-test?test=Thyroid" class="btn-book-test">
          ЁЯз╛ <span data-i18n="bookTest">Book Test</span>
        </a>
      </div>
    </div>

    <!-- Fever -->
    <div class="test-card">
      <div class="test-content">
        <div class="test-icon">ЁЯМбя╕П</div>
        <h3>Fever Panel</h3>
        <span class="test-category">Dengue тАв Malaria тАв Typhoid</span>
      </div>

      <div class="test-actions">
        <button class="btn-view-details" onclick="openTestModal('FEVER')">
          ЁЯФН <span data-i18n="viewDetails">View Details</span>
        </button>
        <a href="/book-test?test=Fever%20Panel" class="btn-book-test">
          ЁЯз╛ <span data-i18n="bookTest">Book Test</span>
        </a>
      </div>
    </div>

  </div>
</section>


<!-- ================= TEST DETAILS MODAL ================= -->
<div id="testModal" class="modal-overlay">
  <div class="modal-container">

    <button class="modal-close" onclick="closeModal()">├Ч</button>

    <h2 id="modalTitle"></h2>

    <div class="modal-section">
        <h4 data-i18n="modalWhat">What is this test?</h4>
      <p id="modalMeaning"></p>
    </div>

    <div class="modal-section">
        <h4 data-i18n="modalWhyTitle">Why is this test done?</h4>
      <ul id="modalWhy"></ul>
    </div>

    <div class="modal-section">
        <h4 data-i18n="modalPrepTitle">Preparation Required</h4>
      <p id="modalPrep"></p>
    </div>

    <div class="modal-info">
      тП▒ Report Time: <b id="modalReport"></b> &nbsp; | &nbsp;
      ЁЯПа Home Sample Collection Available
    </div>

    <div class="modal-footer">
      <a id="modalBookLink" class="btn-book-test">Book This Test</a>
    </div>

  </div>
</div>

<!-- ================= SCRIPT ================= -->
<script>
    function openTestModal(testKey) {
      const lang = localStorage.getItem("siteLang") || "en";
    
      const tests = {
        CBC: {
          title: "Complete Blood Count (CBC)",
          en: {
            meaning: "CBC is a blood test that evaluates your overall health by measuring red blood cells, white blood cells, hemoglobin and platelets.",
            why: [
              "Detect infections or fever",
              "Identify anemia or weakness",
              "Monitor general health"
            ],
            prep: "No fasting required. Normal food and water allowed."
          },
          hi: {
            meaning: "CBC рдПрдХ рд░рдХреНрдд рдЬрд╛рдВрдЪ рд╣реИ рдЬреЛ рд▓рд╛рд▓ рд░рдХреНрдд рдХреЛрд╢рд┐рдХрд╛рдУрдВ, рд╢реНрд╡реЗрдд рдХреЛрд╢рд┐рдХрд╛рдУрдВ, рд╣реАрдореЛрдЧреНрд▓реЛрдмрд┐рди рдФрд░ рдкреНрд▓реЗрдЯрд▓реЗрдЯреНрд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдХреЗ рдЖрдкрдХреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рддреА рд╣реИред",
            why: [
              "рд╕рдВрдХреНрд░рдордг рдпрд╛ рдмреБрдЦрд╛рд░ рдХреА рдкрд╣рдЪрд╛рди",
              "рдПрдиреАрдорд┐рдпрд╛ рдпрд╛ рдХрдордЬреЛрд░реА рдХреА рдЬрд╛рдВрдЪ",
              "рд╕рд╛рдорд╛рдиреНрдп рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреА рдирд┐рдЧрд░рд╛рдиреА"
            ],
            prep: "рдЙрдкрд╡рд╛рд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред рд╕рд╛рдорд╛рдиреНрдп рднреЛрдЬрди рдФрд░ рдкрд╛рдиреА рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред"
          },
          report: "Same Day",
          link: "/book-test?test=CBC"
        },
    
        LFT: {
          title: "Liver Function Test (LFT)",
          en: {
            meaning: "LFT checks how well your liver is working by measuring enzymes, proteins and bilirubin.",
            why: [
              "Detect liver disease",
              "Monitor hepatitis or alcohol effects",
              "Investigate jaundice or abdominal pain"
            ],
            prep: "Fasting for 8тАУ10 hours recommended."
          },
          hi: {
            meaning: "LFT рдЬрд╛рдВрдЪ рдпрд╣ рдмрддрд╛рддреА рд╣реИ рдХрд┐ рдЖрдкрдХрд╛ рд▓рд┐рд╡рд░ рдХрд┐рддрдиреА рдЕрдЪреНрдЫреА рддрд░рд╣ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИред",
            why: [
              "рд▓рд┐рд╡рд░ рд░реЛрдЧ рдХреА рдкрд╣рдЪрд╛рди",
              "рд╣реЗрдкреЗрдЯрд╛рдЗрдЯрд┐рд╕ рдпрд╛ рд╢рд░рд╛рдм рдХреЗ рдкреНрд░рднрд╛рд╡ рдХреА рдЬрд╛рдВрдЪ",
              "рдкреАрд▓рд┐рдпрд╛ рдпрд╛ рдкреЗрдЯ рджрд░реНрдж рдХреА рдЬрд╛рдВрдЪ"
            ],
            prep: "8тАУ10 рдШрдВрдЯреЗ рдХрд╛ рдЙрдкрд╡рд╛рд╕ рдЖрд╡рд╢реНрдпрдХ рд╣реИред"
          },
          report: "Same Day",
          link: "/book-test?test=LFT"
        },
    
        THYROID: {
          title: "Thyroid Profile",
          en: {
            meaning: "This test measures thyroid hormones (T3, T4, TSH) that control metabolism, weight and energy.",
            why: [
              "Unexplained weight changes",
              "Fatigue, hair fall, irregular periods",
              "Suspected thyroid imbalance"
            ],
            prep: "No fasting required unless advised by doctor."
          },
          hi: {
            meaning: "рдпрд╣ рдЬрд╛рдВрдЪ рдерд╛рдпрд░реЙрдЗрдб рд╣рд╛рд░реНрдореЛрди (T3, T4, TSH) рдХреЛ рдорд╛рдкрддреА рд╣реИ рдЬреЛ рд╢рд░реАрд░ рдХреЗ рдореЗрдЯрд╛рдмреЙрд▓рд┐рдЬреНрдо рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред",
            why: [
              "рдЕрдЪрд╛рдирдХ рд╡рдЬрди рдмрдврд╝рдирд╛ рдпрд╛ рдШрдЯрдирд╛",
              "рдердХрд╛рди, рдмрд╛рд▓ рдЭрдбрд╝рдирд╛, рдЕрдирд┐рдпрдорд┐рдд рдкреАрд░рд┐рдпрдбреНрд╕",
              "рдерд╛рдпрд░реЙрдЗрдб рдЕрд╕рдВрддреБрд▓рди рдХреА рдЬрд╛рдВрдЪ"
            ],
            prep: "рдбреЙрдХреНрдЯрд░ рдХреА рд╕рд▓рд╛рд╣ рдХреЗ рдмрд┐рдирд╛ рдЙрдкрд╡рд╛рд╕ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИред"
          },
          report: "Same Day",
          link: "/book-test?test=Thyroid"
        },
    
        FEVER: {
          title: "Fever Panel",
          en: {
            meaning: "Fever panel helps detect common causes of fever such as Dengue, Malaria and Typhoid.",
            why: [
              "High fever for more than 2 days",
              "Body pain, chills or weakness",
              "Doctor advised fever investigation"
            ],
            prep: "No special preparation required."
          },
          hi: {
            meaning: "рдлреАрд╡рд░ рдкреИрдирд▓ рдмреБрдЦрд╛рд░ рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рд░рдгреЛрдВ рдЬреИрд╕реЗ рдбреЗрдВрдЧреВ, рдорд▓реЗрд░рд┐рдпрд╛ рдФрд░ рдЯрд╛рдЗрдлрд╛рдЗрдб рдХреА рдкрд╣рдЪрд╛рди рдХрд░рддрд╛ рд╣реИред",
            why: [
              "2 рджрд┐рди рд╕реЗ рдЕрдзрд┐рдХ рдмреБрдЦрд╛рд░",
              "рд╢рд░реАрд░ рджрд░реНрдж, рдардВрдб рд▓рдЧрдирд╛ рдпрд╛ рдХрдордЬреЛрд░реА",
              "рдбреЙрдХреНрдЯрд░ рджреНрд╡рд╛рд░рд╛ рдЬрд╛рдВрдЪ рдХреА рд╕рд▓рд╛рд╣"
            ],
            prep: "рдХреЛрдИ рд╡рд┐рд╢реЗрд╖ рддреИрдпрд╛рд░реА рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИред"
          },
          report: "Same Day",
          link: "/book-test?test=Fever%20Panel"
        }
      };
    
      const t = tests[testKey];
      const content = t[lang];
    
      document.getElementById("modalTitle").innerText = t.title;
      document.getElementById("modalMeaning").innerText = content.meaning;
      document.getElementById("modalPrep").innerText = content.prep;
      document.getElementById("modalReport").innerText = t.report;
      document.getElementById("modalBookLink").href = t.link;
    
      const ul = document.getElementById("modalWhy");
      ul.innerHTML = "";
      content.why.forEach(item => {
        const li = document.createElement("li");
        li.textContent = item;
        ul.appendChild(li);
      });
    
      document.getElementById("testModal").style.display = "flex";
    }
    
    function closeModal() {
      document.getElementById("testModal").style.display = "none";
    }
    </script>
    
<%- include("../layout/footer") %>
